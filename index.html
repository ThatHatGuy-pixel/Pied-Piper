<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ultra Complex Demo Site</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ====== RESET & BASE ====== */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --bg: #050816;
      --bg-elevated: #0b1020;
      --bg-soft: #111827;
      --text: #f9fafb;
      --muted: #9ca3af;
      --accent: #38bdf8;
      --accent-soft: rgba(56,189,248,0.15);
      --accent-strong: #0ea5e9;
      --danger: #f97373;
      --radius-xl: 1.5rem;
      --radius-lg: 1rem;
      --radius-md: 0.75rem;
      --shadow-soft: 0 24px 80px rgba(15,23,42,0.9);
      --shadow-sm: 0 10px 30px rgba(15,23,42,0.7);
      --nav-height: 70px;
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.25s ease-out;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
      background: radial-gradient(circle at top, #1d283a 0, #020617 55%);
      color: var(--text);
      min-height: 100vh;
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
    }

    body.theme-light {
      --bg: #f3f4f6;
      --bg-elevated: #ffffff;
      --bg-soft: #e5e7eb;
      --text: #020617;
      --muted: #6b7280;
      --accent: #2563eb;
      --accent-soft: rgba(37,99,235,0.12);
      --accent-strong: #1d4ed8;
      --shadow-soft: 0 24px 70px rgba(15,23,42,0.12);
      --shadow-sm: 0 10px 30px rgba(15,23,42,0.08);
    }

    body.theme-light .glass {
      backdrop-filter: blur(20px);
      background: rgba(255,255,255,0.85);
    }

    ::selection {
      background: rgba(56,189,248,0.3);
      color: #f9fafb;
    }

    .app {
      max-width: 1200px;
      margin: 0 auto;
      padding: 16px 16px 40px 16px;
    }

    .glass {
      background: linear-gradient(135deg, rgba(15,23,42,0.9), rgba(15,23,42,0.75));
      backdrop-filter: blur(24px);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148,163,184,0.25);
      overflow: hidden;
      position: relative;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.4);
      background: rgba(15,23,42,0.7);
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--muted);
    }

    .pill-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #4ade80;
      box-shadow: 0 0 0 6px rgba(74,222,128,0.2);
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* ====== NAVBAR ====== */
    .nav-shell {
      z-index: 30;
      position: sticky;
      top: 0;
      margin-bottom: 16px;
    }

    .nav {
      height: var(--nav-height);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 18px;
      border-radius: var(--radius-xl);
      background: rgba(15,23,42,0.88);
      backdrop-filter: blur(24px);
      border: 1px solid rgba(148,163,184,0.25);
      box-shadow: var(--shadow-sm);
    }

    .nav-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo {
      width: 30px;
      height: 30px;
      border-radius: 12px;
      background: conic-gradient(from 180deg, #22c55e, #38bdf8, #a855f7, #22c55e);
      display: grid;
      place-items: center;
      box-shadow: 0 12px 30px rgba(15,23,42,0.8);
    }

    .logo-inner {
      width: 18px;
      height: 18px;
      border-radius: 8px;
      background: #020617;
      display: grid;
      place-items: center;
      color: #f9fafb;
      font-size: 0.75rem;
      font-weight: 700;
    }

    .brand {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .brand-name {
      font-weight: 600;
      letter-spacing: 0.03em;
      font-size: 0.85rem;
    }

    .brand-sub {
      font-size: 0.65rem;
      color: var(--muted);
    }

    .nav-links {
      display: flex;
      gap: 18px;
      align-items: center;
      font-size: 0.8rem;
    }

    .nav-links a {
      position: relative;
      padding-bottom: 2px;
      color: var(--muted);
      transition: color var(--transition-fast);
    }

    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0;
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg,var(--accent),var(--accent-strong));
      transition: width var(--transition-fast);
    }

    .nav-links a:hover {
      color: var(--text);
    }

    .nav-links a.active::after {
      width: 14px;
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .theme-toggle {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.4);
      background: radial-gradient(circle at top, rgba(99,102,241,0.48), rgba(15,23,42,1));
      display: grid;
      place-items: center;
      font-size: 0.9rem;
      cursor: pointer;
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
    }

    .theme-toggle:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 0 1px rgba(148,163,184,0.6);
    }

    .btn {
      border-radius: 999px;
      padding: 7px 14px;
      font-size: 0.75rem;
      border: 1px solid rgba(148,163,184,0.25);
      background: radial-gradient(circle at top left,var(--accent),var(--accent-strong));
      color: #f9fafb;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(8,47,73,0.6);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast), filter var(--transition-fast);
    }

    .btn span.icon {
      font-size: 0.85rem;
    }

    .btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow: 0 16px 45px rgba(8,47,73,0.8);
    }

    .btn-outline {
      background: transparent;
      color: var(--muted);
      border-color: rgba(148,163,184,0.5);
      box-shadow: none;
    }

    .btn-outline:hover {
      color: var(--text);
      border-color: rgba(148,163,184,0.9);
      box-shadow: 0 12px 34px rgba(15,23,42,0.65);
    }

    .nav-toggle {
      display: none;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.9);
      justify-content: center;
      align-items: center;
      font-size: 1rem;
      cursor: pointer;
    }

    /* ====== LAYOUT ====== */
    main {
      margin-top: 10px;
    }

    section {
      padding: 32px 24px;
      border-bottom: 1px solid rgba(30,64,175,0.35);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      margin-bottom: 14px;
    }

    .section-title-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .section-eyebrow {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
    }

    .section-title {
      font-size: 1.1rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .section-title-badge {
      font-size: 0.6rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .section-subtitle {
      font-size: 0.8rem;
      color: var(--muted);
      max-width: 520px;
    }

    /* ====== HERO SECTION ====== */
    #hero {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.1fr);
      gap: 18px;
      padding-top: 26px;
      padding-bottom: 28px;
      align-items: center;
    }

    .hero-left {
      padding-right: 10px;
    }

    .hero-tagline {
      margin: 4px 0 8px 0;
      font-size: 0.75rem;
      color: var(--muted);
      max-width: 420px;
      line-height: 1.5;
    }

    .hero-heading {
      font-size: clamp(1.6rem, 3vw, 2.05rem);
      line-height: 1.2;
      margin-bottom: 8px;
      letter-spacing: 0.01em;
    }

    .hero-gradient {
      background: linear-gradient(135deg,#38bdf8,#a855f7,#22c55e);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      font-size: 0.8rem;
      color: var(--muted);
      margin-bottom: 14px;
      max-width: 440px;
    }

    .hero-typing {
      min-height: 18px;
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.75rem;
      color: var(--accent);
      background: rgba(15,23,42,0.9);
      border-radius: var(--radius-md);
      padding: 7px 10px;
      border: 1px solid rgba(56,189,248,0.45);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }

    .hero-typing-label {
      color: var(--muted);
    }

    .hero-typing-cursor {
      width: 7px;
      height: 12px;
      background: var(--accent);
      animation: blink 0.9s steps(2,end) infinite;
      border-radius: 999px;
    }

    @keyframes blink {
      0%, 49% { opacity: 1; }
      50%, 100% { opacity: 0; }
    }

    .hero-cta-row {
      margin-top: 14px;
      display: flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
      font-size: 0.7rem;
      color: var(--muted);
    }

    .hero-meta-item {
      padding: 5px 9px;
      border-radius: 999px;
      border: 1px dashed rgba(148,163,184,0.45);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(15,23,42,0.7);
    }

    .hero-meta-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
    }

    /* Right side hero: fake 3D view / video placeholder */
    .hero-right {
      position: relative;
      height: 260px;
      border-radius: var(--radius-xl);
      background: radial-gradient(circle at top,rgba(56,189,248,0.2),rgba(15,23,42,0.98));
      border: 1px solid rgba(148,163,184,0.3);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .hero-right-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.7rem;
    }

    .hero-right-tabs {
      display: inline-flex;
      gap: 4px;
      padding: 3px;
      border-radius: 999px;
      background: rgba(15,23,42,0.88);
      border: 1px solid rgba(148,163,184,0.35);
    }

    .hero-right-tab {
      padding: 4px 9px;
      border-radius: 999px;
      border: none;
      font-size: 0.65rem;
      cursor: pointer;
      background: transparent;
      color: var(--muted);
    }

    .hero-right-tab.active {
      background: rgba(15,23,42,1);
      color: var(--text);
    }

    .hero-right-chip {
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.4);
      display: inline-flex;
      gap: 4px;
      align-items: center;
      color: var(--muted);
    }

    .hero-preview {
      flex: 1;
      border-radius: var(--radius-lg);
      background: radial-gradient(circle at top,#1e293b,#020617);
      border: 1px solid rgba(30,64,175,0.6);
      overflow: hidden;
      display: grid;
      grid-template-columns: 70% 30%;
    }

    .hero-preview-main {
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .hero-preview-title {
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .hero-preview-title-pill {
      font-size: 0.6rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(56,189,248,0.4);
      color: var(--accent);
    }

    .hero-preview-window {
      flex: 1;
      border-radius: var(--radius-md);
      background: linear-gradient(135deg,rgba(56,189,248,0.35),rgba(168,85,247,0.2),rgba(34,197,94,0.15));
      border: 1px solid rgba(56,189,248,0.7);
      position: relative;
      overflow: hidden;
    }

    .hero-preview-orbit {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
    }

    .orbit-circle {
      border-radius: 999px;
      border: 1px dashed rgba(15,23,42,0.6);
      position: absolute;
    }

    .orbit-circle:nth-child(1) {
      width: 75%;
      height: 75%;
      animation: spin 42s linear infinite;
    }

    .orbit-circle:nth-child(2) {
      width: 50%;
      height: 50%;
      animation: spin 26s linear infinite reverse;
    }

    .orbit-circle:nth-child(3) {
      width: 30%;
      height: 30%;
      animation: spin 18s linear infinite;
    }

    .orbit-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #f9fafb;
      box-shadow: 0 0 18px rgba(248,250,252,0.9);
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .hero-preview-meta {
      position: absolute;
      bottom: 8px;
      left: 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.88);
      border: 1px solid rgba(148,163,184,0.5);
      padding: 4px 8px;
      font-size: 0.65rem;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--muted);
    }

    .hero-preview-side {
      border-left: 1px solid rgba(30,64,175,0.6);
      padding: 8px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-size: 0.7rem;
      background: radial-gradient(circle at top left,rgba(56,189,248,0.15),rgba(15,23,42,1));
    }

    .hero-preview-stats {
      display: grid;
      gap: 6px;
    }

    .stat-card {
      border-radius: var(--radius-md);
      padding: 6px 7px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(30,64,175,0.7);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .stat-label {
      color: var(--muted);
      font-size: 0.65rem;
    }

    .stat-value {
      font-weight: 600;
      font-size: 0.75rem;
    }

    .hero-right-footer {
      display: flex;
      justify-content: space-between;
      font-size: 0.65rem;
      color: var(--muted);
    }

    /* ====== FEATURES ====== */
    #features .features-grid {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(3,minmax(0,1fr));
      margin-top: 8px;
    }

    .feature-card {
      border-radius: var(--radius-lg);
      border: 1px solid rgba(31,41,55,0.9);
      background: radial-gradient(circle at top,rgba(15,23,42,0.95),rgba(15,23,42,0.88));
      padding: 10px 11px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      box-shadow: 0 16px 40px rgba(15,23,42,0.75);
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: "";
      position: absolute;
      inset: -80px;
      background: conic-gradient(from 180deg,rgba(56,189,248,0.1),transparent,rgba(168,85,247,0.12),transparent);
      opacity: 0;
      transition: opacity var(--transition-med);
    }

    .feature-card:hover::before {
      opacity: 1;
    }

    .feature-card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      position: relative;
      z-index: 1;
    }

    .feature-icon {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at top,var(--accent-soft),rgba(15,23,42,1));
      border: 1px solid rgba(56,189,248,0.6);
      font-size: 0.9rem;
    }

    .feature-title {
      font-size: 0.85rem;
      font-weight: 500;
    }

    .feature-badge {
      font-size: 0.6rem;
      padding: 2px 6px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px dashed rgba(148,163,184,0.7);
      color: var(--muted);
    }

    .feature-body {
      font-size: 0.75rem;
      color: var(--muted);
      position: relative;
      z-index: 1;
    }

    .feature-meta {
      display: flex;
      justify-content: space-between;
      margin-top: 6px;
      font-size: 0.68rem;
      color: var(--muted);
    }

    /* ====== GALLERY ====== */
    #gallery .gallery-grid {
      display: grid;
      grid-template-columns: repeat(3,minmax(0,1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .gallery-card {
      border-radius: var(--radius-lg);
      overflow: hidden;
      border: 1px solid rgba(31,41,55,0.9);
      background: rgba(15,23,42,0.95);
      cursor: pointer;
      display: flex;
      flex-direction: column;
    }

    .gallery-card img {
      width: 100%;
      height: 140px;
      object-fit: cover;
      display: block;
      transition: transform var(--transition-med);
    }

    .gallery-card:hover img {
      transform: scale(1.05);
    }

    .gallery-info {
      padding: 7px 8px;
      font-size: 0.75rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      color: var(--muted);
    }

    .gallery-label {
      font-weight: 500;
      color: var(--text);
    }

    /* ====== GALLERY MODAL ====== */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .modal-backdrop.open {
      display: flex;
    }

    .modal {
      max-width: 880px;
      max-height: 90vh;
      width: 92%;
      border-radius: var(--radius-xl);
      background: rgba(15,23,42,0.98);
      border: 1px solid rgba(148,163,184,0.6);
      box-shadow: 0 30px 110px rgba(15,23,42,0.95);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .modal-header {
      padding: 10px 12px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.8rem;
      border-bottom: 1px solid rgba(31,41,55,0.9);
    }

    .modal-body {
      padding: 12px;
      display: grid;
      grid-template-columns: minmax(0,2fr) minmax(0,1.2fr);
      gap: 10px;
      align-items: center;
    }

    .modal-body img {
      width: 100%;
      border-radius: var(--radius-lg);
      border: 1px solid rgba(30,64,175,0.7);
      max-height: 350px;
      object-fit: cover;
    }

    .modal-details {
      font-size: 0.8rem;
      color: var(--muted);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .modal-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .modal-tag {
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      font-size: 0.7rem;
    }

    /* ====== DASHBOARD ====== */
    #dashboard .dash-grid {
      margin-top: 8px;
      display: grid;
      grid-template-columns: 1.1fr 1.1fr 0.9fr;
      gap: 10px;
    }

    .dash-card {
      border-radius: var(--radius-lg);
      padding: 8px 9px;
      border: 1px solid rgba(31,41,55,0.95);
      background: radial-gradient(circle at top,rgba(15,23,42,0.95),rgba(15,23,42,0.92));
      box-shadow: 0 16px 46px rgba(15,23,42,0.8);
      font-size: 0.75rem;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .dash-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.75rem;
    }

    .dash-header-title {
      font-weight: 500;
    }

    .dash-badge {
      padding: 2px 7px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.5);
      font-size: 0.65rem;
      color: var(--muted);
    }

    /* Fake chart using div bars */
    .chart-grid {
      display: flex;
      gap: 6px;
      align-items: flex-end;
      height: 120px;
      padding-top: 4px;
    }

    .chart-bar {
      flex: 1;
      border-radius: 999px;
      background: linear-gradient(180deg,var(--accent-strong),rgba(15,23,42,1));
      position: relative;
      overflow: hidden;
      transform-origin: bottom;
      transform: scaleY(0.2);
    }

    .chart-bar-inner {
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg,var(--accent-strong),rgba(15,23,42,1));
    }

    .chart-bar-label {
      position: absolute;
      bottom: -16px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.65rem;
      color: var(--muted);
    }

    .chart-meta {
      display: flex;
      justify-content: space-between;
      margin-top: 14px;
      font-size: 0.65rem;
      color: var(--muted);
    }

    .sparkline {
      height: 44px;
      border-radius: var(--radius-md);
      background: radial-gradient(circle at top,rgba(56,189,248,0.3),rgba(15,23,42,1));
      border: 1px solid rgba(56,189,248,0.6);
      position: relative;
      overflow: hidden;
    }

    .sparkline-line {
      position: absolute;
      inset: 8px 6px;
      background: linear-gradient(90deg,rgba(15,23,42,0),rgba(148,163,184,0.7),rgba(15,23,42,0));
      mix-blend-mode: screen;
    }

    .sparkline-badge {
      position: absolute;
      bottom: 6px;
      right: 6px;
      border-radius: 999px;
      padding: 3px 6px;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.6);
      font-size: 0.65rem;
    }

    .dash-list {
      display: grid;
      gap: 6px;
      margin-top: 4px;
    }

    .dash-list-item {
      border-radius: var(--radius-md);
      padding: 6px 7px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.95);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.7rem;
      color: var(--muted);
    }

    .dash-pill {
      border-radius: 999px;
      padding: 3px 7px;
      font-size: 0.65rem;
      background: rgba(15,23,42,0.9);
      border: 1px solid rgba(148,163,184,0.4);
    }

    /* ====== BLOG / ACCORDION ====== */
    #blog .blog-list {
      margin-top: 10px;
      display: grid;
      gap: 8px;
    }

    .accordion-item {
      border-radius: var(--radius-lg);
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.96);
      overflow: hidden;
    }

    .accordion-header {
      padding: 8px 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      font-size: 0.8rem;
    }

    .accordion-title {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .accordion-meta {
      font-size: 0.7rem;
      color: var(--muted);
    }

    .accordion-toggle {
      font-size: 1.1rem;
      color: var(--muted);
      transition: transform var(--transition-med);
    }

    .accordion-item.open .accordion-toggle {
      transform: rotate(90deg);
    }

    .accordion-body {
      max-height: 0;
      overflow: hidden;
      padding: 0 10px;
      font-size: 0.78rem;
      color: var(--muted);
      transition: max-height var(--transition-med), padding-bottom var(--transition-med);
    }

    .accordion-item.open .accordion-body {
      max-height: 180px;
      padding-bottom: 8px;
    }

    /* ====== PLAYGROUND / WIDGETS ====== */
    #playground .play-grid {
      margin-top: 10px;
      display: grid;
      grid-template-columns: 1.2fr 1.1fr;
      gap: 10px;
    }

    .todo {
      border-radius: var(--radius-lg);
      padding: 9px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.95);
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-size: 0.78rem;
    }

    .todo-input-row {
      display: flex;
      gap: 6px;
    }

    .input {
      flex: 1;
      padding: 6px 8px;
      border-radius: var(--radius-md);
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.98);
      color: var(--text);
      font-size: 0.8rem;
      outline: none;
      transition: border-color var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
    }

    .input:focus {
      border-color: rgba(56,189,248,0.7);
      box-shadow: 0 0 0 1px rgba(56,189,248,0.4);
      background: rgba(15,23,42,1);
    }

    .input-error {
      border-color: var(--danger);
    }

    .todo-list {
      display: grid;
      gap: 6px;
      max-height: 180px;
      overflow: auto;
    }

    .todo-item {
      border-radius: var(--radius-md);
      padding: 5px 7px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.98);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
    }

    .todo-task {
      font-size: 0.8rem;
    }

    .todo-task.done {
      text-decoration: line-through;
      color: var(--muted);
    }

    .todo-actions {
      display: flex;
      gap: 4px;
    }

    .chip-btn {
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.95);
      padding: 2px 6px;
      font-size: 0.65rem;
      cursor: pointer;
      color: var(--muted);
      transition: background var(--transition-fast), color var(--transition-fast), border-color var(--transition-fast);
    }

    .chip-btn:hover {
      border-color: rgba(248,250,252,0.7);
      color: var(--text);
    }

    .accent-lab {
      border-radius: var(--radius-lg);
      padding: 9px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.95);
      display: grid;
      gap: 8px;
      font-size: 0.78rem;
    }

    .accent-row {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .accent-swatch {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: var(--accent);
    }

    .accent-code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
      font-size: 0.75rem;
      padding: 3px 6px;
      border-radius: var(--radius-md);
      background: rgba(15,23,42,0.98);
      border: 1px solid rgba(55,65,81,0.9);
    }

    /* ====== CONTACT ====== */
    #contact .contact-grid {
      margin-top: 10px;
      display: grid;
      grid-template-columns: minmax(0,1.2fr) minmax(0,1.1fr);
      gap: 10px;
    }

    .contact-card {
      border-radius: var(--radius-lg);
      padding: 10px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.96);
      display: grid;
      gap: 8px;
      font-size: 0.78rem;
    }

    .contact-row {
      display: flex;
      gap: 6px;
    }

    .contact-row-half {
      flex: 1;
    }

    .label {
      font-size: 0.7rem;
      margin-bottom: 3px;
      color: var(--muted);
    }

    textarea.input {
      resize: vertical;
      min-height: 80px;
      max-height: 180px;
    }

    .error-text {
      font-size: 0.7rem;
      color: var(--danger);
      margin-top: 2px;
    }

    .contact-summary {
      font-size: 0.78rem;
      color: var(--muted);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .contact-stat-row {
      display: flex;
      gap: 6px;
    }

    .contact-stat {
      flex: 1;
      border-radius: var(--radius-md);
      padding: 6px 7px;
      border: 1px solid rgba(31,41,55,0.95);
      background: rgba(15,23,42,0.95);
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .contact-stat-label {
      font-size: 0.7rem;
      color: var(--muted);
    }

    .contact-stat-value {
      font-size: 0.85rem;
      font-weight: 500;
    }

    /* ====== FOOTER ====== */
    footer {
      padding: 10px 24px 16px 24px;
      font-size: 0.7rem;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 8px;
    }

    footer span {
      opacity: 0.9;
    }

    /* ====== RESPONSIVE ====== */
    @media (max-width: 960px) {
      #hero {
        grid-template-columns: minmax(0,1fr);
        height: auto;
      }
      .hero-left {
        padding-right: 0;
      }
      .hero-right {
        height: 260px;
      }
      #features .features-grid {
        grid-template-columns: repeat(2, minmax(0,1fr));
      }
      #dashboard .dash-grid {
        grid-template-columns: repeat(2,minmax(0,1fr));
      }
      #dashboard .dash-grid > :last-child {
        grid-column: 1 / -1;
      }
      #playground .play-grid {
        grid-template-columns: minmax(0,1fr);
      }
      #contact .contact-grid {
        grid-template-columns: minmax(0,1fr);
      }
    }

    @media (max-width: 720px) {
      .nav {
        padding: 0 12px;
      }
      .nav-links {
        display: none;
      }
      .nav-toggle {
        display: flex;
      }
      .nav-links.mobile-open {
        position: absolute;
        top: calc(var(--nav-height) + 4px);
        right: 8px;
        left: 8px;
        border-radius: var(--radius-lg);
        background: rgba(15,23,42,0.98);
        border: 1px solid rgba(148,163,184,0.4);
        padding: 8px 10px;
        box-shadow: var(--shadow-sm);
        display: grid;
        gap: 6px;
        font-size: 0.8rem;
      }
      #gallery .gallery-grid {
        grid-template-columns: repeat(2,minmax(0,1fr));
      }
      #features .features-grid {
        grid-template-columns: minmax(0,1fr);
      }
    }

    @media (max-width: 520px) {
      .app {
        padding-inline: 10px;
      }
      .glass {
        border-radius: 18px;
      }
      section {
        padding-inline: 14px;
      }
      #gallery .gallery-grid {
        grid-template-columns: minmax(0,1fr);
      }
      #dashboard .dash-grid {
        grid-template-columns: minmax(0,1fr);
      }
    }
  </style>
</head>
<body>
  <div class="app glass">
    <!-- ====== NAVBAR ====== -->
    <header class="nav-shell">
      <nav class="nav">
        <div class="nav-left">
          <div class="logo">
            <div class="logo-inner">UX</div>
          </div>
          <div class="brand">
            <div class="brand-name">ComplexSite Studio</div>
            <div class="brand-sub">Fully interactive demo interface</div>
          </div>
        </div>
        <div class="nav-links" id="navLinks">
          <a href="#hero" data-nav="hero" class="active">Overview</a>
          <a href="#features" data-nav="features">Features</a>
          <a href="#gallery" data-nav="gallery">Gallery</a>
          <a href="#dashboard" data-nav="dashboard">Dashboard</a>
          <a href="#playground" data-nav="playground">Playground</a>
          <a href="#contact" data-nav="contact">Contact</a>
        </div>
        <div class="nav-actions">
          <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
            <span id="themeIcon">üåô</span>
          </button>
          <button class="btn-outline btn" onclick="document.getElementById('contact').scrollIntoView({behavior:'smooth'});">
            <span class="icon">‚úâÔ∏è</span><span>Contact</span>
          </button>
          <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
            ‚ò∞
          </button>
        </div>
      </nav>
    </header>

    <main>
      <!-- ====== HERO ====== -->
      <section id="hero">
        <div class="hero-left">
          <div class="pill">
            <span class="pill-dot"></span>
            Complex single-file web app
          </div>
          <p class="hero-tagline">
            Editable, responsive, interactive ‚Äî and fully contained in this one HTML file.
          </p>
          <h1 class="hero-heading">
            Build your own
            <span class="hero-gradient">hyper-polished interface</span>
            without a framework.
          </h1>
          <p class="hero-subtitle">
            This page demonstrates layout, state, animations, a dashboard, gallery modals,
            theme switching and more using only HTML, CSS and vanilla JavaScript.
          </p>

          <div class="hero-typing" aria-label="Dynamic technologies list">
            <span class="hero-typing-label">Now showing:</span>
            <span id="typingText"></span>
            <span class="hero-typing-cursor"></span>
          </div>

          <div class="hero-cta-row">
            <button class="btn" onclick="document.getElementById('features').scrollIntoView({behavior:'smooth'});">
              <span class="icon">üöÄ</span>
              Explore Features
            </button>
            <button class="btn-outline" onclick="document.getElementById('playground').scrollIntoView({behavior:'smooth'});">
              <span class="icon">üß™</span>
              Open Playground
            </button>
          </div>

          <div class="hero-meta">
            <div class="hero-meta-item">
              <span class="hero-meta-dot"></span>
              <span>Single-file SPA</span>
            </div>
            <div class="hero-meta-item">
              <span class="hero-meta-dot" style="background:#4ade80;"></span>
              <span>ES6 Vanilla JS</span>
            </div>
            <div class="hero-meta-item">
              <span class="hero-meta-dot" style="background:#facc15;"></span>
              <span>Light / Dark themes</span>
            </div>
          </div>
        </div>

        <div class="hero-right">
          <div class="hero-right-header">
            <div class="hero-right-tabs">
              <button class="hero-right-tab active" data-preview="scene">Scene</button>
              <button class="hero-right-tab" data-preview="stats">Stats</button>
            </div>
            <div class="hero-right-chip">
              <span>Complexity meter</span>
              <strong>87%</strong>
            </div>
          </div>

          <!-- MAIN PREVIEW AREA -->
          <div class="hero-preview" id="heroPreview">
            <div class="hero-preview-main">
              <div class="hero-preview-title">
                <span>Live layout sandbox</span>
                <span class="hero-preview-title-pill">Real-time</span>
              </div>

              <div class="hero-preview-window">
                <div class="hero-preview-orbit">
                  <div class="orbit-circle"></div>
                  <div class="orbit-circle"></div>
                  <div class="orbit-circle"></div>
                  <div class="orbit-dot"></div>
                </div>
                <div class="hero-preview-meta">
                  <!-- REPLACE WITH YOUR VIDEO / 3D CANVAS
                       Example:
                       <video src="media/your-demo.mp4" autoplay loop muted></video>
                  -->
                  <span>Media slot: add your <strong>video</strong> or <strong>3D canvas</strong> here.</span>
                </div>
              </div>
            </div>

            <aside class="hero-preview-side" id="heroPreviewSide">
              <div class="hero-preview-stats">
                <div class="stat-card">
                  <div>
                    <div class="stat-label">Sections</div>
                    <div class="stat-value">6</div>
                  </div>
                  <span class="dash-pill">SPA</span>
                </div>
                <div class="stat-card">
                  <div>
                    <div class="stat-label">Lines of code</div>
                    <div class="stat-value" id="locValue">1200+</div>
                  </div>
                  <span class="dash-pill">Single file</span>
                </div>
              </div>
              <div class="sparkline">
                <div class="sparkline-line"></div>
                <div class="sparkline-badge">Complexity trend ‚ñ≤</div>
              </div>
              <div style="font-size:0.68rem; color:var(--muted);">
                Tip: replace the preview area with anything you like ‚Äî a <code>&lt;video&gt;</code>, <code>&lt;canvas&gt;</code>,
                or even an embedded game.
              </div>
            </aside>
          </div>

          <div class="hero-right-footer">
            <span>Scroll down for gallery, dashboard and interactive widgets.</span>
            <span>Designed for editing & learning.</span>
          </div>
        </div>
      </section>

      <!-- ====== FEATURES ====== -->
      <section id="features">
        <div class="section-header">
          <div class="section-title-group">
            <div class="section-eyebrow">Feature stack</div>
            <div class="section-title">
              Core building blocks
              <span class="section-title-badge">High-level overview</span>
            </div>
          </div>
          <p class="section-subtitle">
            These feature cards are a quick map of what this page demonstrates: layout systems, state management,
            micro-interactions and accessibility-friendly structure.
          </p>
        </div>

        <div class="features-grid">
          <article class="feature-card">
            <div class="feature-card-header">
              <div style="display:flex; gap:8px; align-items:center;">
                <div class="feature-icon">‚öôÔ∏è</div>
                <div>
                  <div class="feature-title">Layout & Responsiveness</div>
                  <div style="font-size:0.68rem; color:var(--muted);">
                    Grid + flex for desktop & mobile
                  </div>
                </div>
              </div>
              <div class="feature-badge">CSS systems</div>
            </div>
            <div class="feature-body">
              A combination of CSS Grid, flexbox, sticky headers, modals and responsive breakpoints keeps everything
              fluid across screen sizes while staying within this single file.
            </div>
            <div class="feature-meta">
              <span>3 breakpoints</span>
              <span>Pure CSS only</span>
            </div>
          </article>

          <article class="feature-card">
            <div class="feature-card-header">
              <div style="display:flex; gap:8px; align-items:center;">
                <div class="feature-icon">üß†</div>
                <div>
                  <div class="feature-title">Vanilla JS State</div>
                  <div style="font-size:0.68rem; color:var(--muted);">
                    Light/dark, modals, accordions
                  </div>
                </div>
              </div>
              <div class="feature-badge">No framework</div>
            </div>
            <div class="feature-body">
              Theme toggling, scroll-based navigation highlighting, a live todo list, dynamic forms, and
              IntersectionObserver-based scroll spy all run on vanilla JavaScript.
            </div>
            <div class="feature-meta">
              <span>LocalStorage</span>
              <span>ES6 modules style</span>
            </div>
          </article>

          <article class="feature-card">
            <div class="feature-card-header">
              <div style="display:flex; gap:8px; align-items:center;">
                <div class="feature-icon">‚ú®</div>
                <div>
                  <div class="feature-title">Design polish</div>
                  <div style="font-size:0.68rem; color:var(--muted);">
                    Glass, gradients, micro-animations
                  </div>
                </div>
              </div>
              <div class="feature-badge">UI details</div>
            </div>
            <div class="feature-body">
              Subtle shadows, glassmorphism, gradients and hover states help make this feel like a modern app.
              Everything uses CSS variables for quick customization.
            </div>
            <div class="feature-meta">
              <span>13+ components</span>
              <span>Easy to restyle</span>
            </div>
          </article>
        </div>
      </section>

      <!-- ====== GALLERY ====== -->
      <section id="gallery">
        <div class="section-header">
          <div class="section-title-group">
            <div class="section-eyebrow">Asset gallery</div>
            <div class="section-title">
              Visual slots
              <span class="section-title-badge">Replace with your media</span>
            </div>
          </div>
          <p class="section-subtitle">
            Each card below represents a media slot. Click any item to open it in a modal. You should replace these
            placeholder images with your own assets.
          </p>
        </div>

        <div class="gallery-grid">
          <!-- REPLACE src="media/gallery-1.jpg" WITH YOUR OWN IMAGE PATH -->
          <article class="gallery-card" data-gallery-src="media/gallery-1.jpg" data-gallery-title="Landing hero" data-gallery-tags="Hero, Marketing, Gradient">
            <img src="https://images.pexels.com/photos/1181675/pexels-photo-1181675.jpeg?auto=compress&cs=tinysrgb&w=1200" alt="Placeholder hero design" />
            <div class="gallery-info">
              <span class="gallery-label">Landing hero</span>
              <span>Click to enlarge</span>
            </div>
          </article>

          <!-- REPLACE src="media/gallery-2.jpg" WITH YOUR OWN IMAGE PATH -->
          <article class="gallery-card" data-gallery-src="media/gallery-2.jpg" data-gallery-title="Analytics dashboard" data-gallery-tags="Charts, Data, Dashboard">
            <img src="https://images.pexels.com/photos/669610/pexels-photo-669610.jpeg?auto=compress&cs=tinysrgb&w=1200" alt="Placeholder dashboard image" />
            <div class="gallery-info">
              <span class="gallery-label">Analytics dashboard</span>
              <span>Click to enlarge</span>
            </div>
          </article>

          <!-- REPLACE src="media/gallery-3.jpg" WITH YOUR OWN IMAGE PATH -->
          <article class="gallery-card" data-gallery-src="media/gallery-3.jpg" data-gallery-title="Team workspace" data-gallery-tags="Team, Collaboration">
            <img src="https://images.pexels.com/photos/1181355/pexels-photo-1181355.jpeg?auto=compress&cs=tinysrgb&w=1200" alt="Placeholder workspace" />
            <div class="gallery-info">
              <span class="gallery-label">Team workspace</span>
              <span>Click to enlarge</span>
            </div>
          </article>
        </div>
      </section>

      <!-- GALLERY MODAL -->
      <div class="modal-backdrop" id="galleryModalBackdrop">
        <div class="modal" role="dialog" aria-modal="true">
          <div class="modal-header">
            <div>
              <strong id="modalTitle">Image title</strong>
              <span style="margin-left:4px; font-size:0.7rem; color:var(--muted);">Click outside or √ó to close.</span>
            </div>
            <button class="chip-btn" id="modalCloseBtn">‚úï</button>
          </div>
          <div class="modal-body">
            <img id="modalImage" src="" alt="Gallery image" />
            <div class="modal-details">
              <p>
                This modal appears when you click a gallery card. Swap in your own assets by editing the
                <code>data-gallery-src</code> attribute and the <code>&lt;img src&gt;</code> inside each card.
              </p>
              <div>
                <strong>Tags</strong>
                <div class="modal-tags" id="modalTags"></div>
              </div>
              <p>
                You can also use this component to show videos instead of images.
                <!-- REPLACE WITH YOUR VIDEO IF PREFERRED
                     Example:
                     <video controls src="media/your-video.mp4"></video>
                -->
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- ====== DASHBOARD ====== -->
      <section id="dashboard">
        <div class="section-header">
          <div class="section-title-group">
            <div class="section-eyebrow">Mini analytics</div>
            <div class="section-title">
              Faux dashboard widgets
              <span class="section-title-badge">Animated bars</span>
            </div>
          </div>
          <p class="section-subtitle">
            This section fakes a dashboard feel using CSS-only bar charts and spark-lines. JavaScript sets their heights
            and animates them when the section scrolls into view.
          </p>
        </div>

        <div class="dash-grid">
          <div class="dash-card">
            <div class="dash-header">
              <div class="dash-header-title">Traffic by section</div>
              <span class="dash-badge">CSS bar chart</span>
            </div>
            <div class="chart-grid" id="chartBars">
              <!-- Bars will be sized via JS -->
              <div class="chart-bar" data-label="Hero"><div class="chart-bar-inner"></div><span class="chart-bar-label">Hero</span></div>
              <div class="chart-bar" data-label="Features"><div class="chart-bar-inner"></div><span class="chart-bar-label">Feat.</span></div>
              <div class="chart-bar" data-label="Gallery"><div class="chart-bar-inner"></div><span class="chart-bar-label">Gal.</span></div>
              <div class="chart-bar" data-label="Dashboard"><div class="chart-bar-inner"></div><span class="chart-bar-label">Dash</span></div>
              <div class="chart-bar" data-label="Playground"><div class="chart-bar-inner"></div><span class="chart-bar-label">Play</span></div>
            </div>
            <div class="chart-meta">
              <span>Values are generated in JS</span>
              <span id="chartSummary">Hover bars for labels.</span>
            </div>
          </div>

          <div class="dash-card">
            <div class="dash-header">
              <div class="dash-header-title">Engagement summary</div>
              <span class="dash-badge">Sparkline</span>
            </div>
            <div class="sparkline">
              <div class="sparkline-line"></div>
              <div class="sparkline-badge">+42% this session</div>
            </div>
            <div class="dash-list">
              <div class="dash-list-item">
                <span>Time on page</span>
                <span>üïí 3m 24s</span>
              </div>
              <div class="dash-list-item">
                <span>Interactions triggered</span>
                <span>üß™ 12</span>
              </div>
              <div class="dash-list-item">
                <span>Theme toggles</span>
                <span id="themeToggleCount">0</span>
              </div>
            </div>
          </div>

          <div class="dash-card">
            <div class="dash-header">
              <div class="dash-header-title">Mini log</div>
              <span class="dash-badge">Session</span>
            </div>
            <div style="font-size:0.72rem; color:var(--muted); display:grid; gap:4px;" id="eventLog">
              <span>‚Ä¢ Ready: page initialized.</span>
              <span>‚Ä¢ Tip: click a gallery card to open the modal.</span>
            </div>
          </div>
        </div>
      </section>

      <!-- ====== BLOG / ACCORDION ====== -->
      <section id="blog">
        <div class="section-header">
          <div class="section-title-group">
            <div class="section-eyebrow">Notes</div>
            <div class="section-title">
              Implementation commentary
              <span class="section-title-badge">Accordion</span>
            </div>
          </div>
          <p class="section-subtitle">
            These expandable sections are a mini knowledge base explaining how different parts of the page work.
            They can also easily be turned into a dev blog or FAQ.
          </p>
        </div>

        <div class="blog-list" id="accordionList">
          <article class="accordion-item open">
            <header class="accordion-header">
              <div class="accordion-title">
                <span>Architecture overview</span>
                <span class="accordion-meta">How the pieces fit together</span>
              </div>
              <span class="accordion-toggle">‚ñ∂</span>
            </header>
            <div class="accordion-body">
              Everything you see is composed in a single HTML file. CSS handles theming and layout.
              JavaScript wires up interactivity: scroll spies, theme persistence, modals, charts, and the todo list.
            </div>
          </article>

          <article class="accordion-item">
            <header class="accordion-header">
              <div class="accordion-title">
                <span>Replacing assets</span>
                <span class="accordion-meta">Images, videos and sprites</span>
              </div>
              <span class="accordion-toggle">‚ñ∂</span>
            </header>
            <div class="accordion-body">
              Look for comments that start with <code>&lt;!-- REPLACE</code>. Each marks a media slot where
              you can insert your own <code>src</code> for <code>&lt;img&gt;</code>, <code>&lt;video&gt;</code>,
              or even custom components like canvases.
            </div>
          </article>

          <article class="accordion-item">
            <header class="accordion-header">
              <div class="accordion-title">
                <span>Extending functionality</span>
                <span class="accordion-meta">Where to plug in your code</span>
              </div>
              <span class="accordion-toggle">‚ñ∂</span>
            </header>
            <div class="accordion-body">
              You can add your own modules near the end of the file inside the main
              <code>&lt;script&gt;</code>. The layout is already structured into sections, so it's easy to
              swap in real data or new widgets.
            </div>
          </article>
        </div>
      </section>

      <!-- ====== PLAYGROUND / WIDGETS ====== -->
      <section id="playground">
        <div class="section-header">
          <div class="section-title-group">
            <div class="section-eyebrow">Interactive widgets</div>
            <div class="section-title">
              Playground
              <span class="section-title-badge">Stateful components</span>
            </div>
          </div>
          <p class="section-subtitle">
            A tiny todo list and a color lab let you experiment with local state. Use them to see how the UI reacts to
            changes in real time.
          </p>
        </div>

        <div class="play-grid">
          <!-- TODO LIST -->
          <div class="todo">
            <div style="display:flex; justify-content:space-between; align-items:center;">
              <strong>Inline todo list</strong>
              <span style="font-size:0.7rem; color:var(--muted);">Local state only</span>
            </div>
            <div class="todo-input-row">
              <input type="text" class="input" id="todoInput" placeholder="Add a small implementation task‚Ä¶" />
              <button class="btn" id="todoAddBtn" style="padding-inline:10px; font-size:0.75rem;">Add</button>
            </div>
            <div id="todoError" class="error-text" style="display:none;">Please type something before adding.</div>
            <div class="todo-list" id="todoList">
              <!-- JS populates initial items -->
            </div>
          </div>

          <!-- ACCENT LAB -->
          <div class="accent-lab">
            <div style="display:flex; justify-content:space-between; align-items:center;">
              <strong>Accent color lab</strong>
              <span style="font-size:0.7rem; color:var(--muted);">Live CSS variable</span>
            </div>
            <p>
              Change the accent color and watch buttons, pills and highlights update. This uses a single CSS variable
              (<code>--accent</code>) updated via JavaScript.
            </p>
            <div class="accent-row">
              <div class="accent-swatch" id="accentSwatch"></div>
              <input type="color" id="accentPicker" value="#38bdf8" style="width:44px; height:28px; border-radius:7px; border:none; background:transparent; cursor:pointer;" />
              <span class="accent-code" id="accentCode">--accent: #38bdf8</span>
            </div>
            <p style="font-size:0.72rem; color:var(--muted);">
              Pro tip: Use this pattern to theme whole apps with a few variables instead of many CSS rules.
            </p>
          </div>
        </div>
      </section>

      <!-- ====== CONTACT / FORM ====== -->
      <section id="contact">
        <div class="section-header">
          <div class="section-title-group">
            <div class="section-eyebrow">Contact</div>
            <div class="section-title">
              Validation demo
              <span class="section-title-badge">Form handling</span>
            </div>
          </div>
          <p class="section-subtitle">
            This form doesn't actually send anywhere, but it validates in real time and displays a summary on ‚Äúsend‚Äù.
            Wire it to your backend or an API to use it for real.
          </p>
        </div>

        <div class="contact-grid">
          <form class="contact-card" id="contactForm" novalidate>
            <div class="contact-row">
              <div class="contact-row-half">
                <label class="label" for="nameInput">Name</label>
                <input class="input" id="nameInput" name="name" placeholder="Your name" />
                <div class="error-text" id="nameError" style="display:none;">Name is required.</div>
              </div>
              <div class="contact-row-half">
                <label class="label" for="emailInput">Email</label>
                <input class="input" id="emailInput" name="email" placeholder="you@example.com" />
                <div class="error-text" id="emailError" style="display:none;">Please enter a valid email.</div>
              </div>
            </div>
            <div>
              <label class="label" for="topicInput">Topic</label>
              <input class="input" id="topicInput" name="topic" placeholder="What are you working on?" />
            </div>
            <div>
              <label class="label" for="messageInput">Message</label>
              <textarea class="input" id="messageInput" name="message" placeholder="Tell me how you plan to customize this layout‚Ä¶"></textarea>
              <div class="error-text" id="messageError" style="display:none;">Message must be at least 20 characters.</div>
            </div>
            <div style="display:flex; justify-content:space-between; align-items:center; margin-top:4px;">
              <span style="font-size:0.7rem; color:var(--muted);">
                No data is sent anywhere ‚Äî this is only a front-end demo.
              </span>
              <button class="btn" type="submit">
                <span class="icon">üì®</span>
                Send preview
              </button>
            </div>
          </form>

          <div class="contact-card contact-summary" id="contactSummary">
            <div>
              <strong>Submission preview</strong>
              <p>
                Fill out the form on the left and hit ‚ÄúSend preview‚Äù to see a formatted summary of your message here.
              </p>
            </div>
            <div class="contact-stat-row">
              <div class="contact-stat">
                <span class="contact-stat-label">Submissions this session</span>
                <span class="contact-stat-value" id="submissionCount">0</span>
              </div>
              <div class="contact-stat">
                <span class="contact-stat-label">Validation status</span>
                <span class="contact-stat-value" id="validationStatus">Pending</span>
              </div>
            </div>
            <div id="summaryContent" style="border-radius:var(--radius-md); border:1px dashed rgba(55,65,81,0.9); padding:6px 7px; font-size:0.75rem;">
              <em>No messages yet.</em>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <span>Built as a complex, single-file HTML/CSS/JS demo. Replace assets & text to turn it into your own site.</span>
      <span>Theme, colors and layout are all customizable via CSS variables.</span>
    </footer>
  </div>

  <!-- ====== MAIN SCRIPT ====== -->
  <script>
    (function () {
      const body = document.body;

      /* ========= THEME TOGGLE ========= */
      const THEME_KEY = "complex-demo-theme";
      const themeToggleBtn = document.getElementById("themeToggle");
      const themeIcon = document.getElementById("themeIcon");
      const themeToggleCountEl = document.getElementById("themeToggleCount");
      let themeToggleCount = 0;

      function applyTheme(theme) {
        if (theme === "light") {
          body.classList.add("theme-light");
          themeIcon.textContent = "‚òÄÔ∏è";
        } else {
          body.classList.remove("theme-light");
          themeIcon.textContent = "üåô";
        }
      }

      function detectInitialTheme() {
        const stored = localStorage.getItem(THEME_KEY);
        if (stored === "light" || stored === "dark") {
          return stored;
        }
        const prefersLight = window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: light)").matches;
        return prefersLight ? "light" : "dark";
      }

      let currentTheme = detectInitialTheme();
      applyTheme(currentTheme);

      themeToggleBtn.addEventListener("click", () => {
        currentTheme = currentTheme === "light" ? "dark" : "light";
        applyTheme(currentTheme);
        localStorage.setItem(THEME_KEY, currentTheme);
        themeToggleCount++;
        themeToggleCountEl.textContent = String(themeToggleCount);
        logEvent("Theme switched to " + currentTheme + " mode.");
      });

      /* ========= NAV TOGGLE (MOBILE) ========= */
      const navToggle = document.getElementById("navToggle");
      const navLinks = document.getElementById("navLinks");

      navToggle.addEventListener("click", () => {
        navLinks.classList.toggle("mobile-open");
      });

      navLinks.addEventListener("click", (e) => {
        if (e.target.matches("a[href^='#']")) {
          navLinks.classList.remove("mobile-open");
        }
      });

      /* ========= TYPING EFFECT ========= */
      const typingTarget = document.getElementById("typingText");
      const typingPhrases = [
        "Responsive layouts.",
        "Vanilla JavaScript widgets.",
        "Glassmorphism UI.",
        "CSS-driven charts.",
        "Modal galleries.",
        "Light + dark themes."
      ];

      let phraseIndex = 0;
      let charIndex = 0;
      let deleting = false;

      function tickTyping() {
        const phrase = typingPhrases[phraseIndex];
        if (!deleting) {
          charIndex++;
          if (charIndex >= phrase.length) {
            deleting = true;
          }
        } else {
          charIndex--;
          if (charIndex <= 0) {
            deleting = false;
            phraseIndex = (phraseIndex + 1) % typingPhrases.length;
          }
        }
        typingTarget.textContent = phrase.slice(0, Math.max(charIndex, 0));
      }
      setInterval(tickTyping, 80);

      /* ========= SCROLL SPY / ACTIVE NAV ========= */
      const sections = Array.from(document.querySelectorAll("main section"));
      const navAnchors = Array.from(navLinks.querySelectorAll("a[data-nav]"));

      const sectionById = new Map(sections.map(s => [s.id, s]));
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.id;
            navAnchors.forEach(a => {
              a.classList.toggle("active", a.dataset.nav === id);
            });
          }
        });
      }, {
        root: null,
        threshold: 0.4
      });

      sections.forEach(section => observer.observe(section));

      /* ========= GALLERY MODAL ========= */
      const modalBackdrop = document.getElementById("galleryModalBackdrop");
      const modalImage = document.getElementById("modalImage");
      const modalTitle = document.getElementById("modalTitle");
      const modalTags = document.getElementById("modalTags");
      const modalCloseBtn = document.getElementById("modalCloseBtn");

      function openModal({ src, title, tags }) {
        modalImage.src = src;
        modalTitle.textContent = title;
        modalTags.innerHTML = "";
        tags.forEach(tag => {
          const span = document.createElement("span");
          span.className = "modal-tag";
          span.textContent = tag.trim();
          modalTags.appendChild(span);
        });
        modalBackdrop.classList.add("open");
        logEvent("Opened gallery modal: " + title);
      }

      function closeModal() {
        modalBackdrop.classList.remove("open");
        modalImage.src = "";
      }

      modalBackdrop.addEventListener("click", (e) => {
        if (e.target === modalBackdrop) {
          closeModal();
        }
      });
      modalCloseBtn.addEventListener("click", closeModal);

      const galleryCards = Array.from(document.querySelectorAll(".gallery-card"));
      galleryCards.forEach(card => {
        card.addEventListener("click", () => {
          const srcAttr = card.getAttribute("data-gallery-src") || card.querySelector("img")?.src;
          const title = card.getAttribute("data-gallery-title") || "Gallery item";
          const tagsStr = card.getAttribute("data-gallery-tags") || "";
          const tags = tagsStr.split(",").filter(Boolean);
          openModal({ src: srcAttr, title, tags });
        });
      });

      /* ========= DASHBOARD BARS ========= */
      const bars = Array.from(document.querySelectorAll("#chartBars .chart-bar"));
      const chartSummary = document.getElementById("chartSummary");

      function randomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }

      function initializeBars() {
        const total = bars.length;
        let values = [];
        let sum = 0;
        bars.forEach((bar, index) => {
          const value = randomInt(30, 95);
          values.push({ bar, value });
          sum += value;
        });
        values.forEach(({ bar, value }) => {
          bar.style.transform = "scaleY(" + (value / 100) + ")";
          bar.dataset.value = value;
        });

        const highest = values.reduce((max, entry) => entry.value > max.value ? entry : max, values[0]);
        chartSummary.textContent =
          "Top section: " + (highest.bar.dataset.label || "Hero") +
          " (" + highest.value + "% of activity)";
      }

      const dashSection = document.getElementById("dashboard");
      const dashObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            initializeBars();
            dashObserver.disconnect();
          }
        });
      }, { threshold: 0.4 });
      dashObserver.observe(dashSection);

      bars.forEach(bar => {
        bar.addEventListener("mouseenter", () => {
          const label = bar.dataset.label || "Section";
          const value = bar.dataset.value || "?";
          chartSummary.textContent = label + " ‚âà " + value + "% of interactions.";
        });
      });

      /* ========= EVENT LOG ========= */
      const eventLog = document.getElementById("eventLog");
      function logEvent(message) {
        const el = document.createElement("span");
        el.textContent = "‚Ä¢ " + message;
        eventLog.appendChild(el);
        // keep at most 6 events
        const children = Array.from(eventLog.children);
        if (children.length > 6) {
          eventLog.removeChild(children[0]);
        }
      }

      /* ========= ACCORDION ========= */
      const accordionList = document.getElementById("accordionList");
      accordionList.addEventListener("click", (e) => {
        const header = e.target.closest(".accordion-header");
        if (!header) return;
        const item = header.parentElement;
        const open = item.classList.contains("open");
        accordionList.querySelectorAll(".accordion-item").forEach(i => i.classList.remove("open"));
        if (!open) {
          item.classList.add("open");
        }
      });

      /* ========= TODO LIST ========= */
      const todoInput = document.getElementById("todoInput");
      const todoAddBtn = document.getElementById("todoAddBtn");
      const todoList = document.getElementById("todoList");
      const todoError = document.getElementById("todoError");

      let todos = [
        { id: 1, text: "Swap gallery images with your own.", done: false },
        { id: 2, text: "Bind the contact form to an API.", done: false },
        { id: 3, text: "Tweak the accent color in the lab.", done: true }
      ];
      let nextTodoId = 4;

      function renderTodos() {
        todoList.innerHTML = "";
        if (!todos.length) {
          const empty = document.createElement("div");
          empty.style.fontSize = "0.75rem";
          empty.style.color = "var(--muted)";
          empty.textContent = "No tasks yet. Add something to customise this template.";
          todoList.appendChild(empty);
          return;
        }
        todos.forEach(todo => {
          const item = document.createElement("div");
          item.className = "todo-item";
          item.dataset.id = String(todo.id);

          const textSpan = document.createElement("span");
          textSpan.className = "todo-task" + (todo.done ? " done" : "");
          textSpan.textContent = todo.text;

          const actions = document.createElement("div");
          actions.className = "todo-actions";

          const toggleBtn = document.createElement("button");
          toggleBtn.className = "chip-btn";
          toggleBtn.textContent = todo.done ? "Undo" : "Done";

          const deleteBtn = document.createElement("button");
          deleteBtn.className = "chip-btn";
          deleteBtn.textContent = "‚úï";

          toggleBtn.addEventListener("click", () => {
            todo.done = !todo.done;
            logEvent("Todo toggled: \"" + todo.text + "\" ‚Üí " + (todo.done ? "done" : "pending") + ".");
            renderTodos();
          });
          deleteBtn.addEventListener("click", () => {
            todos = todos.filter(t => t.id !== todo.id);
            logEvent("Todo removed: \"" + todo.text + "\".");
            renderTodos();
          });

          actions.appendChild(toggleBtn);
          actions.appendChild(deleteBtn);
          item.appendChild(textSpan);
          item.appendChild(actions);
          todoList.appendChild(item);
        });
      }

      function addTodoFromInput() {
        const value = todoInput.value.trim();
        if (!value) {
          todoError.style.display = "block";
          todoInput.classList.add("input-error");
          return;
        }
        todoError.style.display = "none";
        todoInput.classList.remove("input-error");
        todos.unshift({ id: nextTodoId++, text: value, done: false });
        todoInput.value = "";
        renderTodos();
        logEvent("Todo added: \"" + value + "\".");
      }

      todoAddBtn.addEventListener("click", addTodoFromInput);
      todoInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          e.preventDefault();
          addTodoFromInput();
        }
      });

      renderTodos();

      /* ========= ACCENT COLOR LAB ========= */
      const accentPicker = document.getElementById("accentPicker");
      const accentCode = document.getElementById("accentCode");
      const accentSwatch = document.getElementById("accentSwatch");

      function setAccentColor(color) {
        document.documentElement.style.setProperty("--accent", color);
        document.documentElement.style.setProperty("--accent-strong", color);
        accentCode.textContent = "--accent: " + color;
        accentSwatch.style.background = color;
        logEvent("Accent color changed to " + color + ".");
      }
      accentPicker.addEventListener("input", (e) => {
        setAccentColor(e.target.value);
      });

      /* ========= CONTACT FORM ========= */
      const contactForm = document.getElementById("contactForm");
      const nameInput = document.getElementById("nameInput");
      const emailInput = document.getElementById("emailInput");
      const topicInput = document.getElementById("topicInput");
      const messageInput = document.getElementById("messageInput");
      const nameError = document.getElementById("nameError");
      const emailError = document.getElementById("emailError");
      const messageError = document.getElementById("messageError");

      const submissionCountEl = document.getElementById("submissionCount");
      const validationStatusEl = document.getElementById("validationStatus");
      const summaryContent = document.getElementById("summaryContent");
      let submissionCount = 0;

      function validateEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      function validateContactForm() {
        let valid = true;

        if (!nameInput.value.trim()) {
          nameError.style.display = "block";
          nameInput.classList.add("input-error");
          valid = false;
        } else {
          nameError.style.display = "none";
          nameInput.classList.remove("input-error");
        }

        if (!validateEmail(emailInput.value.trim())) {
          emailError.style.display = "block";
          emailInput.classList.add("input-error");
          valid = false;
        } else {
          emailError.style.display = "none";
          emailInput.classList.remove("input-error");
        }

        if (messageInput.value.trim().length < 20) {
          messageError.style.display = "block";
          messageInput.classList.add("input-error");
          valid = false;
        } else {
          messageError.style.display = "none";
          messageInput.classList.remove("input-error");
        }

        return valid;
      }

      contactForm.addEventListener("submit", (e) => {
        e.preventDefault();
        const valid = validateContactForm();
        validationStatusEl.textContent = valid ? "Valid" : "Needs attention";
        if (!valid) {
          logEvent("Contact form validation failed.");
          return;
        }
        submissionCount++;
        submissionCountEl.textContent = String(submissionCount);
        const name = nameInput.value.trim();
        const email = emailInput.value.trim();
        const topic = topicInput.value.trim() || "General";
        const message = messageInput.value.trim();

        summaryContent.innerHTML =
          "<strong>Preview:</strong><br>" +
          "<strong>Name:</strong> " + escapeHtml(name) + "<br>" +
          "<strong>Email:</strong> " + escapeHtml(email) + "<br>" +
          "<strong>Topic:</strong> " + escapeHtml(topic) + "<br>" +
          "<strong>Message:</strong><br>" +
          "<pre style='white-space:pre-wrap; margin-top:4px;'>" + escapeHtml(message) + "</pre>";

        logEvent("Contact form submitted (preview only).");
      });

      function escapeHtml(str) {
        return str
          .replace(/&/g, "&amp;")
          .replace(/</g, "&lt;")
          .replace(/>/g, "&gt;")
          .replace(/"/g, "&quot;")
          .replace(/'/g, "&#039;");
      }

      /* ========= HERO PREVIEW TABS ========= */
      const previewTabs = Array.from(document.querySelectorAll(".hero-right-tab"));
      const heroPreviewSide = document.getElementById("heroPreviewSide");

      previewTabs.forEach(tab => {
        tab.addEventListener("click", () => {
          previewTabs.forEach(t => t.classList.remove("active"));
          tab.classList.add("active");
          const mode = tab.dataset.preview;
          if (mode === "scene") {
            heroPreviewSide.style.opacity = "1";
          } else {
            heroPreviewSide.style.opacity = "0.35";
          }
        });
      });
    })();
  </script>
</body>
</html>
